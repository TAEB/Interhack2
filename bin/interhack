#!/usr/bin/perl
use strict;
use warnings;
use lib 'lib';
use Interhack;
use Term::ReadKey;

$| = 1;
my $interhack = Interhack->new;

sub cont {
    ReadMode 0;
    ReadMode 3;
    # redraw the screen
    $interhack->restore_row($_) for (1..24);
    $interhack->goto($interhack->vt->x, $interhack->vt->y);
    $SIG{CONT} = \&cont;
}
$SIG{CONT} = \&cont;
ReadMode 3;
END { ReadMode 0 }

$interhack->run;

